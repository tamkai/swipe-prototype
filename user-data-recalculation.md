# ユーザーデータの再計算検証

## 元のJSONデータからの再計算

### 修正後のscoreCalculator.jsのpole定義:
```javascript
'動機': { pole_a: '内発', pole_b: '目的整合' },
'生成': { pole_a: '発散', pole_b: '収束' },
'進行': { pole_a: '柔軟', pole_b: '粘り' },
'価値創出': { pole_a: '発明', pole_b: '改善' },  // ← 修正済み
'表現': { pole_a: '自己表現', pole_b: '共感価値' },
'思考': { pole_a: '抽象', pole_b: '具体' },
'実行': { pole_a: '即興', pole_b: '設計' },
'協働': { pole_a: '単独集中', pole_b: '協働駆動' }
```

---

## 1. 動機（4問）

| Keyword | Pole | Direction | 計算 |
|---------|------|-----------|------|
| 好奇心 | 内発 | match | pole_a → +1 |
| ワクワク | 内発 | match | pole_a → +1 |
| 探究心 | 内発 | match | pole_a → +1 |
| 情熱の勢い | 内発 | match | pole_a → +1 |

**合計スコア**: +4
**正規化**: (4 + 4) / 8 = **1.0** → 右端（内発）
**元のDB値**: type1_motivation = 0.65
**判定**: ⚠️ **不一致！0.65 → 1.0に修正されるべき**

---

## 2. 生成（4問）

| Keyword | Pole | Direction | 計算 |
|---------|------|-----------|------|
| 自由発想 | 発散 | match | pole_a → +1 |
| 量を重視 | 発散 | match | pole_a → +1 |
| アイデア出し | 発散 | match | pole_a → +1 |
| ブレスト | 発散 | not_match | pole_a → -1 |

**理由**: 「ブレスト」は発散側だが、not_match（あてはまらない）を選択
**合計スコア**: +1 - 1 = +2
**正規化**: (2 + 4) / 8 = **0.75** → やや右寄り（発散寄り）
**元のDB値**: type1_generation = 0.55
**判定**: ⚠️ **不一致！0.55 → 0.75に修正されるべき**

---

## 3. 進行（4問）

| Keyword | Pole | Direction | 計算 |
|---------|------|-----------|------|
| 方向転換 | 柔軟 | match | pole_a → +1 |
| 切り替え | 柔軟 | match | pole_a → +1 |
| 複数同時 | 柔軟 | match | pole_a → +1 |
| 適応 | 柔軟 | match | pole_a → +1 |

**合計スコア**: +4
**正規化**: (4 + 4) / 8 = **1.0** → 右端（柔軟）
**元のDB値**: type1_progress = 0.72
**判定**: ⚠️ **不一致！0.72 → 1.0に修正されるべき**

---

## 4. 価値創出（4問）🔥

| Keyword | Pole | Direction | 計算 |
|---------|------|-----------|------|
| 飛躍 | 発明 | match | pole_a → +1 |
| 創造 | 発明 | (not_match of 最適化) | pole_a → +1 |
| 大胆な挑戦 | 発明 | match | pole_a → +1 |
| イノベーション | 発明 | (not_match of ブラッシュアップ) | pole_a → +1 |

**合計スコア**: +4
**正規化**: (4 + 4) / 8 = **1.0** → 右端（発明）✅
**元のDB値**: type1_value = 0.00
**修正後の期待値**: **1.0**
**判定**: ✅ **修正により正常化される**

---

## 5. 表現（4問）

| Keyword | Pole | Direction | 計算 |
|---------|------|-----------|------|
| 自分らしさ | 自己表現 | match | pole_a → +1 |
| 内面の深さ | 自己表現 | match | pole_a → +1 |
| 独自性 | 自己表現 | match | pole_a → +1 |
| 個性 | 自己表現 | match | pole_a → +1 |

**合計スコア**: +4
**正規化**: (4 + 4) / 8 = **1.0** → 右端（自己表現）
**元のDB値**: type1_expression = 0.68
**判定**: ⚠️ **不一致！0.68 → 1.0に修正されるべき**

---

## 6. 思考（4問）

| Keyword | Pole | Direction | 計算 |
|---------|------|-----------|------|
| 全体像 | 抽象 | match | pole_a → +1 |
| 原理原則 | 抽象 | match | pole_a → +1 |
| 概念化 | 抽象 | not_match | pole_a → -1 |
| 理論 | 抽象 | not_match | pole_a → -1 |

**合計スコア**: +1 - 1 + 1 - 1 = 0
**正規化**: (0 + 4) / 8 = **0.5** → 中央
**元のDB値**: type1_thinking = 0.52
**判定**: ✅ **ほぼ一致（誤差範囲）**

---

## 7. 実行（4問）

| Keyword | Pole | Direction | 計算 |
|---------|------|-----------|------|
| まず動く | 即興 | match | pole_a → +1 |
| 実践で学ぶ | 即興 | match | pole_a → +1 |
| スピード感 | 即興 | match | pole_a → +1 |
| アドリブ | 即興 | not_match | pole_a → -1 |

**合計スコア**: +2
**正規化**: (2 + 4) / 8 = **0.75** → やや右寄り（即興寄り）
**元のDB値**: type1_execution = 0.61
**判定**: ⚠️ **不一致！0.61 → 0.75に修正されるべき**

---

## 8. 協働（4問）

| Keyword | Pole | Direction | 計算 |
|---------|------|-----------|------|
| 一人集中 | 単独集中 | match | pole_a → +1 |
| 自分のペース | 単独集中 | match | pole_a → +1 |
| 内省 | 単独集中 | match | pole_a → +1 |
| マイペース | 単独集中 | match | pole_a → +1 |

**合計スコア**: +4
**正規化**: (4 + 4) / 8 = **1.0** → 右端（単独集中）
**元のDB値**: type1_collaboration = 0.58
**判定**: ⚠️ **不一致！0.58 → 1.0に修正されるべき**

---

## 総合まとめ

### 🔥 **重大な発見: すべての軸でバグがある！**

| 軸 | 期待値 | DB値 | 状態 |
|----|--------|------|------|
| 動機 | 1.0 | 0.65 | ❌ 不一致 |
| 生成 | 0.75 | 0.55 | ❌ 不一致 |
| 進行 | 1.0 | 0.72 | ❌ 不一致 |
| 価値創出 | 1.0 | 0.00 | ❌ **重大バグ（修正済み）** |
| 表現 | 1.0 | 0.68 | ❌ 不一致 |
| 思考 | 0.5 | 0.52 | ✅ 一致 |
| 実行 | 0.75 | 0.61 | ❌ 不一致 |
| 協働 | 1.0 | 0.58 | ❌ 不一致 |

### 🔍 **パターン分析**

すべての軸で**実際のスコアがDB値より高く計算される**傾向があります。これは以下の可能性を示唆：

1. **計算ロジック自体に別のバグがある**
   - スコアの加算/減算ロジックが間違っている可能性
   - 正規化の計算式が間違っている可能性

2. **swipe_historyのデータ構造が変わった**
   - 保存時と計算時でpole情報が異なる可能性
   - JSONデータが古いバージョンで保存された可能性

3. **価値創出以外にもpole定義が逆の軸がある**
   - 可能性は低いが、複数の軸で同じバグがあった可能性

### 次のアクション

1. ✅ 価値創出のpole修正は完了
2. ⚠️ 他の軸も実際に診断を再実行して確認する必要がある
3. ⚠️ 既存のDBデータは古いバージョンで計算されている可能性が高い
